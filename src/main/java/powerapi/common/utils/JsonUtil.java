package powerapi.common.utils;import com.alibaba.fastjson.JSON;import java.util.HashMap;import java.util.List;/** * Created by Melon on 16/12/1. */public class JsonUtil {    public static final String RES_CODE = "code";    public static final String RES_RESULT = "result";    public static final String RES_MSG = "msg";    private static HashMap<String, Object> res = null;    private static JsonUtil instance = new JsonUtil();    private JsonUtil() {    }    public static JsonUtil getInstance() {        res = new HashMap<String, Object>();        return instance;    }    public JsonUtil setList(List<?> list) {        res.put("result", list);        if (null != list && list.size() > 0) {            res.put(RES_CODE, CodeUtil.CODE_SUCCESS);        } else {            res.put(RES_CODE, CodeUtil.CODE_FINAL_PAGE);        }        return instance;    }    public JsonUtil setBean(Object object, Integer flag) {        res.put("result", object);        if (null != flag && flag > 0) {            res.put("code", CodeUtil.CODE_SUCCESS);        } else {            res.put("code", CodeUtil.CODE_FAIL);        }        return instance;    }    public JsonUtil setStatus(Integer flag) {        if (null != flag && flag > 0) {            res.put("code", CodeUtil.CODE_SUCCESS);        } else {            res.put("code", CodeUtil.CODE_FAIL);        }        return instance;    }    private String Object2Json(Object object) {        return JSON.toJSONString(object);    }    /**     * 必须与setcode一起使用     *     * @param result     * @return     */    public JsonUtil setResult(Object result) {        res.put(RES_RESULT, result);        return instance;    }    public JsonUtil setCode(Integer code) {        res.put("code", code);        return instance;    }    public JsonUtil setMsg(String msg) {        res.put(RES_MSG, msg);        return instance;    }    public String result() {        String result = Object2Json(res);        res.clear();        res = null;        return result;    }}